/* ==========================================================================
   Config
   ========================================================================== */
$plan-box-shadow: 0 -1px 7px 0 rgba(228, 232, 238, 0.61) !default;
$plan-box-color-light: rgba($color-text-base, .7) !default;
$plan-box-border-radius: 4px !default;
$plan-box-highlight-top-border-height: 8px !default;
$plan-box-recommended-margin: -$layout-spacing-base 0 0 0 !default;
$plan-box-padding: 40px 50px !default;
$plan-box-price-spacing: 30px 0 !default;

$plan-box-button-padding: $layout-spacing-base !default;

$plan-box-highlight-default: #e4e8ee !default;
$plan-box-highlight-default-hover: #4B5761 !default;
$plan-box-highlight-1: $color-brand-green !default;
$plan-box-highlight-2: $color-brand-blue !default;
$plan-box-highlight-3: $color-brand-purple !default;

$plan-box-title-font-size: 24px !default;
$plan-box-title-line-height: 1.4em !default;
$plan-box-title-font-weight: 300 !default;
$plan-box-title-margin: 0 0 .5em !default;

/* ==========================================================================
   Styles
   ========================================================================== */
.plan-box {
    box-shadow: $plan-box-shadow;
    display: table;
    position: relative;
    text-align: center;
    width: 100%;

    &__wrapper .plan-box {
        &:before {
            content: "";
            display: block;
            border-radius: $plan-box-border-radius $plan-box-border-radius 0 0;
            box-sizing: border-box;
            height: $plan-box-highlight-top-border-height;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
        }
    }

    &--recommended {
        min-height: 532px;
        margin: $plan-box-recommended-margin;

        &:before {
            background-color: $plan-box-highlight-1;
            border: 1px solid $plan-box-highlight-1;
        }
    }
}

.plan-box__title {
    font-size: $plan-box-title-font-size;
    line-height: $plan-box-title-line-height;
    margin: $plan-box-title-margin;
    font-weight: $plan-box-title-font-weight;
}

.plan-box__content {
    background-color: white;
    display: table-cell;
    vertical-align: middle;
    border: 1px solid $plan-box-highlight-default;
    border-radius: $plan-box-border-radius;
    padding: $plan-box-padding;
}

.plan-box__prices {
    margin: $plan-box-price-spacing;
}

.plan-box__price {
    margin: 0 0 $layout-spacing-base/2;

    &--savings {
        color: $color-text-danger;
        text-transform: uppercase;
        font-size: .9em;

        strong {
            font-size: 1.5em;
        }
    }

    &--original {
        font-size: 1.75em;
        color: $plan-box-color-light;

        .plan-box__price-text {
            position: relative;

            &:before {
                content: "";
                height: 1px;
                width: 100%;
                background: $plan-box-color-light;
                position: absolute;
                left: 0;
                top: .6em;
            }
        }
    }

    &--large {
        font-size: 3.428571429em;
        line-height: 1em;
    }
}

.plan-box__recurring,
.plan-box__currency {
    color: $plan-box-color-light;
    font-size: 50%;
}

.plan-box__allowance-info {
    font-size: $typo-size-lead;
    list-style: none;
    margin: $layout-spacing-base 0 $layout-spacing-base*2;
    padding: 0;

    li {
        margin: 0 0 .5em;
    }
}

.plan-box__button {
    font-size: $typo-size-lead;
    padding: $plan-box-button-padding;
    border: 1px solid $plan-box-highlight-default;
    background: none;
    text-decoration: none;

    &:hover {
        background: $plan-box-highlight-default-hover;
        color: white;
    }

    .is-disabled & {
        opacity: .6;
    }
}

.plan-box__wrapper--highlight-all .plan-box__title {
    margin-top: $layout-spacing-base/2;
}
.plan-box__wrapper--highlight-all .grid__cell:nth-child(1) .plan-box {
    &:before {
        background-color: $plan-box-highlight-1;
        border: 1px solid $plan-box-highlight-1;
    }

    &__title,
    &__price--large .plan-box__price-text {
        color: $plan-box-highlight-1;
    }

    &__button {
        border-color: $plan-box-highlight-1;
        color: $plan-box-highlight-1;

        &:hover {
            background: $plan-box-highlight-1;
            color: #fff;
        }
    }
}
.plan-box__wrapper--highlight-all .grid__cell:nth-child(2) .plan-box {
    &:before {
        background-color: $plan-box-highlight-2;
        border: 1px solid $plan-box-highlight-2;
    }

    &__title,
    &__price--large .plan-box__price-text {
        color: $plan-box-highlight-2;
    }

    &__button {
        border-color: $plan-box-highlight-2;
        color: $plan-box-highlight-2;

        &:hover {
            background: $plan-box-highlight-2;
            color: #fff;
        }
    }
}
.plan-box__wrapper--highlight-all .grid__cell:nth-child(3) .plan-box {
    &:before {
        background-color: $plan-box-highlight-3;
        border: 1px solid $plan-box-highlight-3;
    }

    &__title,
    &__price--large .plan-box__price-text {
        color: $plan-box-highlight-3;
    }

    &__button {
        border-color: $plan-box-highlight-3;
        color: $plan-box-highlight-3;

        &:hover {
            background: $plan-box-highlight-3;
            color: #fff;
        }
    }
}

.plan-box__wrapper--recommend-collapse .grid__cell:first-child .plan-box {
    &:before {
        border-radius: $plan-box-border-radius 0 0 0;
    }

    &__content {
        border-right: 0;
        border-radius: $plan-box-border-radius 0 0 $plan-box-border-radius;
    }
}
.plan-box__wrapper--recommend-collapse .grid__cell:last-child .plan-box {
    &:before {
        border-radius: 0 $plan-box-border-radius 0 0;
    }

    &__content {
        border-left: 0;
        border-radius: 0 $plan-box-border-radius $plan-box-border-radius 0;
    }
}