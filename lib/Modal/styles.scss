/* ==========================================================================
   Config
   ========================================================================== */
$modal-title-font-size: 21px !default;
$modal-large-width: 780px !default;
$modal-x-large-width: 900px !default;
$modal-small-width: 400px !default;
$modal-padding: $layout-spacing-base !default;
$modal-heading-font-size: $typo-size-large !default;
$modal-column-padding: $modal-padding !default;
$modal-media-close-dimensions: 30px;

/* ==========================================================================
   Styles
   ========================================================================== */

.legacy-modal {
	width: 600px;

	.modal-header {
		@apply border-0 border-b border-neutral-90 border-solid p-3 min-h-16;

		.react-modal-header__text {
			@apply p-0;
		}
	}

	.modal-footer {
		@apply border-0 border-t border-neutral-90 border-solid flex p-4;
	}

	.modal-body {
		overflow: hidden;
	}

	&.modal--small {
		width:400px;
	}

	&.modal--large {
		width: 780px;
	}

	&.modal--x-large {
		width: 900px;
	}

	&.modal--full-screen {
		width: calc(100vw - 128px);
	}
}

.modal__row {
	@include respond-to(small) {
		display: block;
	}

	display: flex;
}

.modal__column {
	padding: $modal-column-padding;
}

.modal__body-title {
	color: rgb(75 86 95);
	font-weight: $typo-weight-roman;
	font-size: $modal-title-font-size;
}

.modal__illustration {
	margin: 90px 0 0;

	svg {
		height: 100px;
		transform: scale(1);
	}
}

.modal__actions {
	position: absolute;
	right: 30px;
	bottom: $layout-spacing-base;
	background-color: transparent !important;
}

.modal__header-intro {
	margin-bottom: 0;
}

.modal-footer {
	display: flex;
	align-items: center;
	border-radius: 0 0 6px 6px;
	background: white;
}

.modal__footer-text {
	margin-right: auto;
}

.modal-footer.modal-footer--space-between {
  justify-content: space-between;

  &::before {
    content: none;
  }

  &::after {
    content: none;
  }

}

/* ==========================================================================
   Modifiers
   ========================================================================== */

.modal--large {
	.modal-dialog {
		@include respond-to(medium) {
			width: $modal-large-width;
		}
	}
}

.modal--x-large {
	.modal-dialog {
		@include respond-to(medium) {
			width: $modal-x-large-width;
		}

		display: block;
	}
}

.modal--small {
	.modal-dialog {
		@include respond-to(medium) {
			width: $modal-small-width;
		}
	}
}

.modal--full-screen {
	.modal-dialog {
		width: calc(100vw - #{$layout-spacing-base * 2});
	}
}

.modal--center {
	text-align: center;

	.modal-header {
		position: static;
		justify-content: center;
	}

	.modal-title {
		margin: 0 auto;
	}

	.modal-footer {
		justify-content: center;
	}
}

.modal.modal--center .close {
	position: absolute;
	top: $modal-padding * 1.5;
	right: $modal-padding * 1.5;
	transform: none;
}

.modal--clear {
	.modal-content {
		padding: $modal-padding * 1.5;
	}

	.modal-header {
		padding-bottom: 0;

		.react-modal-header__text {
			right:0;
			left:0;
			padding:0;
		}
	}

	.modal-footer {
		padding-top: 0;
	}

	.modal-header,
	.modal-footer {
		border: 0;
		background: none;
	}
}

.modal--overflow {
		position: absolute;
		inset: 0;

	.react-modal-inner {
		position: absolute;
		top: 0;
		bottom: 0;
		display: flex;
		flex-direction: column;
		justify-content: center;
		width: 100%;
	}

	.modal-body {
		flex-grow: 1;
		overflow: scroll;
	}

	.modal-footer {
		margin-top: auto;
	}
}

.modal--overflow-half {
	.modal-body {
		overflow: auto;
		max-height: 40vh;
	}

	.modal-footer {
		position: relative;

		&::after {
			content: "";
			position: absolute;
			top: -26px;
			right: 0;
			left: 0;
			width: 100%;
			height: 25px;
			background: linear-gradient(to bottom, rgb(white 0) 0%, rgb(white .5) 50%, rgb(white .75) 100%);
		}
	}
}

.modal--highlight .modal-body,
.modal__column-wrapper--highlight {
	border-right: 1px solid rgb(229 233 238);
	background: $neutral-base-lighter;
	color: rgb(76 88 96);
}

.modal--collapse {
	.modal-body {
		padding: 0;
	}
}

.modal--media-only.Modal {
	display: flex;
	justify-content: center;
	align-items: center;
	width: 100%;
	height: 100%;
	margin: 0;
	background: none;
	box-shadow: none;
	pointer-events: none;

	.modal-body {
		@apply shadow-small;
		@include file-backgound;

		max-height: 100% !important;
	}

	.react-modal-inner {
		position: relative;
		background:none;
	}

	.modal-header {
		@apply rounded;

		position: absolute;
		right: 0;
		z-index: 2;
		display: flex;
		justify-content: center;
		align-items: center;
		border: 0;
		background: none;

		.close-button {
			@apply rounded-tl-none rounded-br-none m-0 bg-white;

			&:hover path {
				fill: $neutral-dark;
			}
		}

		.modal-header-inner {
			display: none;
		}
	}

	.modal-footer {
		display: flex;
		justify-content: center;
		width: 100%;
		border: 0;
		background: none;
	}

	.react-modal-inner,
	.modal-body {
		pointer-events: auto;
	}

	img {
		display: block;
		max-width: 90vw;
		max-height: 90vh;
	}
}

.modal-header.modal-header-with-nav {
	@apply pb-0;

	.react-modal-header-inner {
		@apply flex flex-row;
	}
}
